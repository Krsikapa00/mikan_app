{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\Nicholas Krsikapa\\\\Desktop\\\\mikan_app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\Nicholas Krsikapa\\\\Desktop\\\\mikan_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"C:\\\\Users\\\\Nicholas Krsikapa\\\\Desktop\\\\mikan_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Nicholas Krsikapa\\\\Desktop\\\\mikan_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Nicholas Krsikapa\\\\Desktop\\\\mikan_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Nicholas Krsikapa\\\\Desktop\\\\mikan_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Nicholas Krsikapa\\\\Desktop\\\\mikan_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Nicholas Krsikapa\\\\Desktop\\\\mikan_app\\\\src\\\\components\\\\Menu\\\\Adminlastpunch.js\";\nimport React from 'react';\nimport Singlepunch from '../Singlepunch';\n\nvar Adminlastpunch =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Adminlastpunch, _React$Component);\n\n  function Adminlastpunch() {\n    var _this;\n\n    _classCallCheck(this, Adminlastpunch);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Adminlastpunch).call(this));\n\n    _this.getAdminLastPunch =\n    /*#__PURE__*/\n    function () {\n      var _ref = _asyncToGenerator(\n      /*#__PURE__*/\n      _regeneratorRuntime.mark(function _callee2(userarr) {\n        var promises, results;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                promises = userarr.map(\n                /*#__PURE__*/\n                function () {\n                  var _ref2 = _asyncToGenerator(\n                  /*#__PURE__*/\n                  _regeneratorRuntime.mark(function _callee(data) {\n                    var response;\n                    return _regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            _context.next = 2;\n                            return fetch(\"https://mikan-app-api.herokuapp.com/latestpunch\", {\n                              method: 'POST',\n                              headers: {\n                                'Content-Type': 'application/json'\n                              },\n                              body: JSON.stringify({\n                                id: data.id\n                              })\n                            }).then(function (resp) {\n                              return resp.json();\n                            }).catch(function (err) {\n                              return console.log(err);\n                            });\n\n                          case 2:\n                            response = _context.sent;\n\n                            if (!response.id) {\n                              _context.next = 7;\n                              break;\n                            }\n\n                            return _context.abrupt(\"return\", {\n                              id: response.id,\n                              name: data.name,\n                              date: response.date,\n                              location: response.location,\n                              time: response.time,\n                              inout: response.inout\n                            });\n\n                          case 7:\n                            console.log('Something went wrong');\n                            return _context.abrupt(\"return\", {\n                              id: 'N/A',\n                              name: data.name,\n                              date: 'N/A',\n                              location: 'N/A',\n                              time: 'N/A',\n                              inout: 'N/A'\n                            });\n\n                          case 9:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee);\n                  }));\n\n                  return function (_x2) {\n                    return _ref2.apply(this, arguments);\n                  };\n                }());\n                _context2.next = 3;\n                return Promise.all(promises);\n\n              case 3:\n                results = _context2.sent;\n                return _context2.abrupt(\"return\", results);\n\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n\n    _this.state = {\n      adminarr: []\n    };\n    return _this;\n  }\n\n  _createClass(Adminlastpunch, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.getAdminLastPunch(this.props.adminlist).then(function (newarr) {\n        _this2.setState({\n          adminarr: newarr\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var adminarr = this.state.adminarr;\n      console.log(adminarr);\n\n      if (adminarr[0]) {\n        return React.createElement(\"div\", {\n          className: 'overflow-x-auto overflow-y-hidden nowrap ',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }, adminarr.map(function (data, i) {\n          return React.createElement(\"article\", {\n            className: \" lastpunch bg-lavender br3 pa3 pa4-ns ma3 ba b--black-10 dib\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 62\n            },\n            __self: this\n          }, React.createElement(\"div\", {\n            className: \"tc\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 63\n            },\n            __self: this\n          }, React.createElement(\"h1\", {\n            className: \"f4\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 64\n            },\n            __self: this\n          }, \"\".concat(data.name)), React.createElement(\"hr\", {\n            className: \"mw3 bb bw1 b--black-10\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 65\n            },\n            __self: this\n          })), React.createElement(\"label\", {\n            className: \"db\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 67\n            },\n            __self: this\n          }, \"Last Punch\"), React.createElement(Singlepunch, {\n            punch: data,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 68\n            },\n            __self: this\n          }));\n        }));\n      } else {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 77\n          },\n          __self: this\n        });\n      }\n    }\n  }]);\n\n  return Adminlastpunch;\n}(React.Component);\n\nexport default Adminlastpunch;","map":{"version":3,"sources":["C:\\Users\\Nicholas Krsikapa\\Desktop\\mikan_app\\src\\components\\Menu\\Adminlastpunch.js"],"names":["React","Singlepunch","Adminlastpunch","getAdminLastPunch","userarr","promises","map","data","fetch","method","headers","body","JSON","stringify","id","then","resp","json","catch","err","console","log","response","name","date","location","time","inout","Promise","all","results","state","adminarr","props","adminlist","newarr","setState","i","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Singlepunch from '../Singlepunch';\r\n\r\nclass Adminlastpunch  extends React.Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            adminarr: [],\r\n        }\r\n    }\r\n\r\n    getAdminLastPunch = async (userarr) => {\r\n        const promises = userarr.map(async data => {\r\n            const response = await fetch(`https://mikan-app-api.herokuapp.com/latestpunch`, {\r\n                method: 'POST',\r\n                headers: {'Content-Type': 'application/json'},\r\n                body: JSON.stringify({\r\n                    id: data.id,\r\n                })\r\n            }).then(resp => resp.json())\r\n            .catch(err => console.log(err))\r\n\r\n            if (response.id){\r\n            return {\r\n                id: response.id,\r\n                name: data.name,\r\n                date: response.date,\r\n                location: response.location,\r\n                time: response.time,\r\n                inout: response.inout\r\n            } \r\n            }else {\r\n               console.log('Something went wrong') \r\n               return {\r\n                id: 'N/A',\r\n                name: data.name,\r\n                date: 'N/A',\r\n                location: 'N/A',\r\n                time: 'N/A',\r\n                inout: 'N/A'\r\n            } \r\n            }\r\n        }) \r\n        const results = await Promise.all(promises);\r\n        return results;\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getAdminLastPunch(this.props.adminlist)\r\n        .then(newarr => {this.setState({adminarr:newarr})})\r\n    }\r\n\r\n    render() {\r\n        const { adminarr } = this.state;\r\n        console.log(adminarr);\r\n        if (adminarr[0]){\r\n                return ( \r\n                    <div className={'overflow-x-auto overflow-y-hidden nowrap '}>\r\n                       \r\n                            {adminarr.map(function(data,i) {\r\n                                return(\r\n                                    <article className=\" lastpunch bg-lavender br3 pa3 pa4-ns ma3 ba b--black-10 dib\">\r\n                                        <div className=\"tc\">\r\n                                            <h1 className=\"f4\">{`${data.name}`}</h1>\r\n                                            <hr className=\"mw3 bb bw1 b--black-10\" />\r\n                                        </div>\r\n                                            <label className=\"db\">{`Last Punch`}</label>\r\n                                            <Singlepunch punch={data} />\r\n                                    </article> \r\n                                )\r\n                            })}\r\n                    </div>\r\n                ) \r\n        }\r\n        else {\r\n            return(\r\n                <div></div>\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Adminlastpunch;"]},"metadata":{},"sourceType":"module"}