{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Nicholas Krsikapa\\\\Desktop\\\\mikan_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Nicholas Krsikapa\\\\Desktop\\\\mikan_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Nicholas Krsikapa\\\\Desktop\\\\mikan_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Nicholas Krsikapa\\\\Desktop\\\\mikan_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Nicholas Krsikapa\\\\Desktop\\\\mikan_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Nicholas Krsikapa\\\\Desktop\\\\mikan_app\\\\src\\\\components\\\\Manualpunch\\\\Manualpunch.js\";\nimport React from 'react';\nimport Submitbtn from '../Submitbtn';\nimport Inputbar from '../Inputbar';\nimport PunchRecipt from '../PunchForm/PunchRecipt';\n\nvar Manualpunch =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Manualpunch, _React$Component);\n\n  function Manualpunch() {\n    var _this;\n\n    _classCallCheck(this, Manualpunch);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Manualpunch).call(this));\n\n    _this.getadminlist = function () {\n      fetch(\"https://mikan-app-api.herokuapp.com/loadusers\", {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          id: _this.props.user.id,\n          admin: _this.props.user.admin\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (usersarray) {\n        _this.setState({\n          adminlist: usersarray\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.loadlocarr = function () {\n      fetch(\"https://mikan-app-api.herokuapp.com/locationsload\", {\n        method: 'GET',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      }).then(function (response) {\n        return response.json();\n      }).then(function (locarr) {\n        if (locarr[0].id) {\n          _this.setState({\n            locationarr: locarr\n          });\n        } else {\n          console.log(locarr);\n        }\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.onRouteChange = function () {\n      var user = document.getElementById('select_user').value.split(\",\"); //Location variable is an array with place 0 being code and 1 being name\n\n      var location = document.getElementById('select_location').value.split(\",\");\n      var in_out = document.getElementById('select_inout').value;\n      var date = document.getElementById('date').value;\n      var time = document.getElementById('time').value;\n\n      if (!user || !in_out || !date || !time || !location) {\n        console.log('Incorrect submission');\n      } else {\n        fetch('https://mikan-app-api.herokuapp.com/recordpunch', {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            id: user[0],\n            location: location[0],\n            in_out: in_out,\n            locationname: location[1],\n            date: date,\n            time: time\n          })\n        }).then(function (response) {\n          return response.json();\n        }).then(function (punch) {\n          // eslint-disable-next-line\n          if (punch.id == _this.props.user.id) {\n            _this.setState({\n              userpunch: user[1],\n              route: 'recipt',\n              punch: punch\n            });\n\n            var button = document.getElementById('submit');\n            button.disabled = true;\n          } else {\n            console.log('punch');\n          }\n        }).catch(function (err) {\n          return console.log(err);\n        });\n      }\n\n      console.log(location);\n    };\n\n    _this.state = {\n      locationarr: [],\n      adminlist: [],\n      punch: {},\n      route: 'punch',\n      userpunch: ''\n    };\n    return _this;\n  }\n\n  _createClass(Manualpunch, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.loadlocarr();\n      this.getadminlist();\n      console.log(this.state.adminlist);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this$state = this.state,\n          adminlist = _this$state.adminlist,\n          locationarr = _this$state.locationarr;\n\n      if (this.state.route === 'punch') {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 104\n          },\n          __self: this\n        }, React.createElement(\"article\", {\n          className: \"br3 ba b--black-10 mv4 w-100 mw6 shadow-5 center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 105\n          },\n          __self: this\n        }, React.createElement(\"main\", {\n          className: \"pa4 black-80\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 106\n          },\n          __self: this\n        }, React.createElement(\"form\", {\n          id: \"manual_punch\",\n          className: \"ba b--transparent ph0 mh0\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 107\n          },\n          __self: this\n        }, React.createElement(\"legend\", {\n          className: \"f1 fw6 ph0 mh0 center bb\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 108\n          },\n          __self: this\n        }, \"Manual Punch\"), React.createElement(\"div\", {\n          className: \"m4 w-70 center \",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 109\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"b ssftn5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 110\n          },\n          __self: this\n        }, \"User \"), React.createElement(\"select\", {\n          id: \"select_user\",\n          className: \"w-100 hover-bg-black hover-white bg-transparent b ba b--black\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 111\n          },\n          __self: this\n        }, adminlist.map(function (data, i) {\n          return (//NEED TO ADD KEY VALUES THAT ARE UNIQUE\n            React.createElement(\"option\", {\n              className: \"pa2\",\n              value: [data.id, data.name],\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 116\n              },\n              __self: this\n            }, data.name)\n          );\n        }))), React.createElement(\"div\", {\n          className: \"m4 w-70 center \",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"b ssftn5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, \"Location \"), React.createElement(\"select\", {\n          id: \"select_location\",\n          className: \"w-100 hover-bg-black hover-white bg-transparent b ba b--black\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 124\n          },\n          __self: this\n        }, locationarr.map(function (data, i) {\n          return (//NEED TO ADD KEY VALUES THAT ARE UNIQUE\n            React.createElement(\"option\", {\n              className: \"pa2 \",\n              value: [data.code, data.name],\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 129\n              },\n              __self: this\n            }, data.name)\n          );\n        }))), React.createElement(\"div\", {\n          className: \"m4 w-70 center \",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 135\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          className: \"b ssftn5\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 136\n          },\n          __self: this\n        }, \"In or Out? \"), React.createElement(\"select\", {\n          id: \"select_inout\",\n          className: \"w-100 hover-bg-black hover-white bg-transparent b ba b--black\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 137\n          },\n          __self: this\n        }, React.createElement(\"option\", {\n          className: \"pa2 \",\n          value: 'In',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 138\n          },\n          __self: this\n        }, \"IN\"), React.createElement(\"option\", {\n          className: \"pa2 \",\n          value: 'Out',\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 139\n          },\n          __self: this\n        }, \"OUT\"))), React.createElement(Inputbar, {\n          label: \"Date\",\n          id: \"date\",\n          type: \"date\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }), React.createElement(Inputbar, {\n          label: \"Time\",\n          id: \"time\",\n          type: \"time\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        }), React.createElement(Submitbtn, {\n          id: \"submit\",\n          value: \"Add Punch\",\n          onClick: this.onRouteChange,\n          className: \"w-30\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        })))));\n      } else if (this.state.route === 'recipt') {\n        return React.createElement(PunchRecipt, {\n          punch: this.state.punch,\n          user: this.state.userpunch,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 155\n          },\n          __self: this\n        });\n      }\n    }\n  }]);\n\n  return Manualpunch;\n}(React.Component);\n\nexport default Manualpunch;","map":{"version":3,"sources":["C:\\Users\\Nicholas Krsikapa\\Desktop\\mikan_app\\src\\components\\Manualpunch\\Manualpunch.js"],"names":["React","Submitbtn","Inputbar","PunchRecipt","Manualpunch","getadminlist","fetch","method","headers","body","JSON","stringify","id","props","user","admin","then","response","json","usersarray","setState","adminlist","catch","err","console","log","loadlocarr","locarr","locationarr","onRouteChange","document","getElementById","value","split","location","in_out","date","time","locationname","punch","userpunch","route","button","disabled","state","map","data","i","name","code","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Submitbtn from '../Submitbtn';\r\nimport Inputbar from '../Inputbar';\r\nimport PunchRecipt from '../PunchForm/PunchRecipt';\r\n\r\nclass Manualpunch extends React.Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            locationarr: [],\r\n            adminlist: [],\r\n            punch: {},\r\n            route: 'punch',\r\n            userpunch: '',\r\n        }\r\n    }\r\n\r\n    getadminlist = () =>{\r\n        fetch(`https://mikan-app-api.herokuapp.com/loadusers`, {\r\n        method: 'POST',\r\n        headers: {'Content-Type': 'application/json'},\r\n        body: JSON.stringify({\r\n            id: this.props.user.id,\r\n            admin: this.props.user.admin\r\n        })\r\n    })\r\n    .then(response => response.json())\r\n    .then(usersarray =>{\r\n        this.setState({adminlist: usersarray});\r\n    })\r\n    .catch(err => console.log(err));\r\n    }\r\n\r\n    loadlocarr = () =>{\r\n        fetch(`https://mikan-app-api.herokuapp.com/locationsload`, {\r\n            method: 'GET',\r\n            headers: {'Content-Type': 'application/json'},\r\n        })\r\n        .then(response => response.json())\r\n        .then(locarr =>{\r\n            if (locarr[0].id){\r\n            this.setState({locationarr: locarr})\r\n            } else {\r\n                console.log(locarr)\r\n            }\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    onRouteChange = () => {\r\n        const user = document.getElementById('select_user').value.split(\",\");\r\n        //Location variable is an array with place 0 being code and 1 being name\r\n        const location = document.getElementById('select_location').value.split(\",\");\r\n        const in_out = document.getElementById('select_inout').value; \r\n        const date = document.getElementById('date').value;\r\n        const time = document.getElementById('time').value;\r\n\r\n        if (!user || !in_out || !date || !time || !location) {\r\n            console.log('Incorrect submission')\r\n        } else {\r\n            fetch('https://mikan-app-api.herokuapp.com/recordpunch', {\r\n                method: 'POST',\r\n                headers: {'Content-Type': 'application/json'},\r\n                body: JSON.stringify({\r\n                    id: user[0],\r\n                    location: location[0],\r\n                    in_out: in_out,\r\n                    locationname: location[1],\r\n                    date: date,\r\n                    time: time\r\n\r\n                })\r\n            })\r\n            .then(response => response.json())\r\n            .then(punch => {\r\n                // eslint-disable-next-line\r\n                if (punch.id == this.props.user.id) {\r\n                    this.setState({userpunch:user[1] ,route:'recipt', punch: punch });\r\n                    const button = document.getElementById('submit');\r\n                    button.disabled = true;\r\n                } else {\r\n                    console.log('punch')\r\n                }\r\n            })\r\n            .catch(err => console.log(err));\r\n\r\n        }\r\n\r\n\r\n        console.log(location)\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.loadlocarr();\r\n        this.getadminlist();\r\n        console.log(this.state.adminlist);\r\n    }\r\n\r\n    render() {\r\n        const { adminlist, locationarr } = this.state;\r\n\r\n        if (this.state.route === 'punch') {\r\n            return(\r\n                <div>\r\n                    <article className=\"br3 ba b--black-10 mv4 w-100 mw6 shadow-5 center\">\r\n                        <main className=\"pa4 black-80\">\r\n                            <form id=\"manual_punch\" className=\"ba b--transparent ph0 mh0\">\r\n                                <legend className=\"f1 fw6 ph0 mh0 center bb\">Manual Punch</legend>\r\n                                <div className='m4 w-70 center '>\r\n                                    <label className='b ssftn5' >User </label>\r\n                                    <select id='select_user' className='w-100 hover-bg-black hover-white bg-transparent b ba b--black' >\r\n                                        {\r\n                                            adminlist.map(function(data,i){\r\n                                                return(\r\n                                                    //NEED TO ADD KEY VALUES THAT ARE UNIQUE\r\n                                                <option className='pa2' value={[data.id,data.name]}>{data.name}</option>\r\n                                                )\r\n                                            })\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className='m4 w-70 center '>\r\n                                    <label className='b ssftn5' >Location </label>\r\n                                    <select id='select_location' className='w-100 hover-bg-black hover-white bg-transparent b ba b--black' >\r\n                                        {\r\n                                            locationarr.map(function(data,i){\r\n                                                return(\r\n                                                    //NEED TO ADD KEY VALUES THAT ARE UNIQUE\r\n                                                    <option className='pa2 ' value={[data.code,data.name]}>{data.name}</option>\r\n                                                )\r\n                                            })\r\n                                        }\r\n                                    </select>\r\n                                </div>\r\n                                <div className='m4 w-70 center '>\r\n                                    <label className='b ssftn5' >In or Out? </label>\r\n                                    <select id='select_inout' className='w-100 hover-bg-black hover-white bg-transparent b ba b--black' >\r\n                                        <option className='pa2 ' value={'In'}>IN</option>\r\n                                        <option className='pa2 ' value={'Out'}>OUT</option>\r\n                                    </select>\r\n                                </div>\r\n\r\n                                <Inputbar label='Date' id='date' type='date' />\r\n                    \r\n                                <Inputbar label='Time' id='time' type='time' />\r\n\r\n                                <Submitbtn id='submit' value='Add Punch' onClick={this.onRouteChange} className='w-30' />\r\n                            </form>\r\n                        </main>\r\n                    </article>\r\n                </div>\r\n            )\r\n        } else if (this.state.route === 'recipt') {\r\n            return(\r\n            <PunchRecipt punch={this.state.punch} user={this.state.userpunch} />\r\n            )\r\n        }\r\n    }\r\n}\r\n\r\nexport default Manualpunch;"]},"metadata":{},"sourceType":"module"}