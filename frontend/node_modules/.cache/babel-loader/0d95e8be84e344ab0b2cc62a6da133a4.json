{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Nicholas Krsikapa\\\\Desktop\\\\mikan_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\Nicholas Krsikapa\\\\Desktop\\\\mikan_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\Nicholas Krsikapa\\\\Desktop\\\\mikan_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\Nicholas Krsikapa\\\\Desktop\\\\mikan_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\Nicholas Krsikapa\\\\Desktop\\\\mikan_app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\Nicholas Krsikapa\\\\Desktop\\\\mikan_app\\\\src\\\\components\\\\Menu\\\\Adminlastpunch.js\";\nimport React from 'react';\nimport Singlepunch from '../Singlepunch';\n\nvar AdminLastpunch =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(AdminLastpunch, _React$Component);\n\n  function AdminLastpunch() {\n    var _this;\n\n    _classCallCheck(this, AdminLastpunch);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AdminLastpunch).call(this));\n\n    _this.getLastPunch = function (user) {\n      return fetch(\"http://localhost:3000/latestpunch\", {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          id: user\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (resp) {\n        if (resp.id) {\n          console.log(resp);\n          return resp;\n        } else {\n          console.log(resp);\n        }\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    };\n\n    _this.getAdminLastPunch = function (userarr, getLastPunch) {\n      return userarr.map(function (data, i) {\n        return getLastPunch(data.id).then(function (resp) {\n          resp['name'] = data.name;\n          return resp;\n        });\n      });\n    };\n\n    _this.state = {\n      latestpunch: {},\n      adminlist: [],\n      user: {}\n    };\n    return _this;\n  }\n\n  _createClass(AdminLastpunch, [{\n    key: \"getUserList\",\n    value: function getUserList(adminuser) {\n      var _this2 = this;\n\n      return fetch(\"http://localhost:3000/loadusers\", {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          id: adminuser.id,\n          admin: adminuser.admin\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (usersarray) {\n        // console.log(usersarray);\n        _this2.setState({\n          adminlist: usersarray\n        });\n\n        return usersarray;\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this3 = this;\n\n      this.getUserList(this.props.user).then(function (resp) {\n        console.log(_this3.getAdminLastPunch(resp, _this3.getLastPunch));\n      });\n      this.setState({\n        user: this.props.user\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      // console.log(this.state.latestpunch)\n      // if (this.state.latestpunch === {} ){\n      //     return (\n      //         <article class=\"mw5 center bg-lavender br3 pa3 pa4-ns mv3 ba b--black-10\">\n      //             <div class=\"tc\">\n      //                 <h1 class=\"f4\">Last Punch</h1>\n      //                 <hr class=\"mw3 bb bw1 b--black-10\" />\n      //             </div>\n      //                 <label className=\"db\">{`Last Punch`}</label>\n      //                 <Singlepunch punch={this.state.latestpunch} />\n      //         </article>\n      //     )\n      // } else \n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return AdminLastpunch;\n}(React.Component);\n\nexport default AdminLastpunch;","map":{"version":3,"sources":["C:\\Users\\Nicholas Krsikapa\\Desktop\\mikan_app\\src\\components\\Menu\\Adminlastpunch.js"],"names":["React","Singlepunch","AdminLastpunch","getLastPunch","user","fetch","method","headers","body","JSON","stringify","id","then","response","json","resp","console","log","catch","err","getAdminLastPunch","userarr","map","data","i","name","state","latestpunch","adminlist","adminuser","admin","usersarray","setState","getUserList","props","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Singlepunch from '../Singlepunch';\r\n\r\nclass AdminLastpunch extends React.Component {\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            latestpunch: {},\r\n            adminlist: [],\r\n            user: {}\r\n        }\r\n    }\r\n\r\n    getLastPunch =(user) => {\r\n        return fetch(`http://localhost:3000/latestpunch`, {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                id: user,\r\n            })\r\n        })\r\n        .then(response => response.json())\r\n        .then(resp =>{\r\n            if (resp.id) {\r\n                console.log(resp)\r\n                return resp\r\n                \r\n            } else {\r\n                console.log(resp);\r\n            }\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    getAdminLastPunch = (userarr, getLastPunch) => {\r\n        \r\n        return userarr.map(function(data, i){\r\n            return getLastPunch(data.id)\r\n            .then(resp =>{\r\n                resp['name'] = data.name\r\n                return resp\r\n            })\r\n        })        \r\n    }\r\n\r\n    getUserList(adminuser){\r\n        return fetch(`http://localhost:3000/loadusers`, {\r\n            method: 'POST',\r\n            headers: {'Content-Type': 'application/json'},\r\n            body: JSON.stringify({\r\n                id: adminuser.id,\r\n                admin: adminuser.admin\r\n            })\r\n        })\r\n        .then(response => response.json())\r\n        .then(usersarray =>{\r\n            // console.log(usersarray);\r\n            this.setState({adminlist: usersarray}) \r\n            return usersarray;\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.getUserList(this.props.user)\r\n        .then(resp => {\r\n            console.log(this.getAdminLastPunch(resp, this.getLastPunch))\r\n        })\r\n        this.setState({user:this.props.user})\r\n    }\r\n\r\n\r\n    render() {\r\n        // console.log(this.state.latestpunch)\r\n        // if (this.state.latestpunch === {} ){\r\n        //     return (\r\n        //         <article class=\"mw5 center bg-lavender br3 pa3 pa4-ns mv3 ba b--black-10\">\r\n        //             <div class=\"tc\">\r\n        //                 <h1 class=\"f4\">Last Punch</h1>\r\n        //                 <hr class=\"mw3 bb bw1 b--black-10\" />\r\n        //             </div>\r\n        //                 <label className=\"db\">{`Last Punch`}</label>\r\n        //                 <Singlepunch punch={this.state.latestpunch} />\r\n        //         </article>\r\n        //     )\r\n        // } else \r\n            return (<div></div>)\r\n        \r\n    }\r\n}\r\n\r\nexport default AdminLastpunch;"]},"metadata":{},"sourceType":"module"}